---
stepsCompleted: [1, 2, 3, 4, 5]
inputDocuments:
  - "Yucheng_project (1).docx"
date: 2026-01-20
author: Yuchenghuang
---

# Product Brief: CompGene

## Executive Summary

CompGene 是一个比较基因组学自动化分析平台，旨在整合多种生物信息学工具，实现跨物种基因存在/缺失模式和直系同源关系的系统性分析。该项目最初聚焦于狐猴物种（Microcebus murinus 和 Lemur catta）与猕猴的比较研究，未来将扩展至更多灵长类物种。

---

## Core Vision

### Problem Statement

比较基因组学研究需要整合多种分析工具（如 eggNOG、AnchorWave、LAST、SVbyEye），但目前这些工具各自独立运行，研究人员需要手动整合各步骤的输入输出，导致工作流程繁琐、效率低下且难以复现。

### Problem Impact

- 研究人员花费大量时间在重复性的手动操作上
- 分析流程难以标准化和复现
- 扩展到新物种时需要重复配置工作
- 团队协作效率受限

### Why Existing Solutions Fall Short

现有的生物信息学工具虽然功能强大，但：
- 各工具输入输出格式不统一
- 缺乏针对灵长类比较基因组学的集成解决方案
- 没有考虑团队已有资源（T2T组装、NCBI注释）的整合

### Proposed Solution

构建 CompGene 自动化分析管道：
- 统一的数据输入接口，支持多种基因组格式
- 自动化的工作流编排，串联注释检索、共线性分析、直系同源推断
- 标准化的输出格式和可视化报告
- 模块化设计，便于添加新物种和新分析方法

### Key Differentiators

1. **针对性优化**：专为灵长类/狐猴比较基因组学研究设计
2. **资源整合**：充分利用团队现有的T2T组装和注释数据
3. **可扩展性**：预留Kinnex长读长数据和RNA-Seq表达分析接口
4. **自动化程度高**：从数据输入到结果可视化的端到端自动化

---

## Target Users

### Primary Users

**计算生物学研究员**

典型用户画像 - Yucheng：
- **角色**：计算分析与数据整合研究员
- **技术背景**：熟练使用 R/Python，有 RNA-Seq 和 DESeq2 经验
- **工作环境**：本地服务器，命令行操作
- **核心需求**：自动化比较基因组学分析流程，减少手动操作

**痛点**：
- 多工具手动运行，效率低
- 数据格式转换繁琐
- 流程难以复现

**成功标准**：
- 一条命令完成端到端分析
- 自动数据格式处理
- 清晰的日志和错误提示
- 支持增量运行和结果缓存

### Secondary Users

暂不考虑。未来可扩展至：
- 团队其他成员（如 Mihir - 理论研究/可视化）
- 更广泛的研究社区

### User Journey

1. **配置阶段**：准备输入数据，编辑配置文件
2. **执行阶段**：运行主命令，系统自动编排工作流
3. **监控阶段**：查看日志，了解进度和错误
4. **结果阶段**：获取标准化输出和汇总报告
5. **迭代阶段**：调整参数，利用缓存快速重跑

---

## Success Metrics

### 用户成功指标

**效率提升**：
- 单物种分析时间：从数小时缩短至 30 分钟内
- 多物种批量处理：支持一条命令运行全部分析
- 新物种扩展：仅需添加输入文件，无需重新配置

**质量保证**：
- 结果可复现：配置文件 + 完整日志记录
- 中间结果缓存：支持断点续跑，避免重复计算

**可用性**：
- 有 Python/R 经验的用户 15 分钟内可完成首次分析
- 清晰的错误提示和文档

### Business Objectives

**研究里程碑**：
1. **初始阶段**：完成 Microcebus murinus、Lemur catta 与猕猴的比较分析
2. **扩展阶段**：整合 Kinnex 长读长数据，支持 4 个额外狐猴物种
3. **进阶阶段**：扩展至猿类物种和 CHM13 人类参考组装

**产出目标**：
- 可复用的自动化分析管道
- 标准化的分析报告格式
- 为团队后续研究提供基础设施

### Key Performance Indicators

| KPI | 目标值 |
|-----|--------|
| 核心流程自动化率 | 100% |
| 分析结果可复现率 | 100% |
| 新物种扩展所需配置时间 | < 5 分钟 |
| 首次使用学习时间 | < 15 分钟 |

---

## MVP Scope

### Core Features

**1. 注释数据检索模块**
- 自动从 NCBI 获取物种基因组注释
- 支持 GFF/GTF 格式解析和标准化
- 缓存机制避免重复下载

**2. 直系同源推断模块**
- 集成 eggNOG-mapper 进行直系同源推断
- 支持自定义参考数据库
- 输出标准化的直系同源对应表

**3. 基因存在/缺失分析**
- 三物种比较：猕猴 (MFA-T2T)、Microcebus murinus、Lemur catta
- 基因家族分类和统计
- 生成比较矩阵和汇总报告

**4. RNA-Seq 表达分析整合**
- 基于 DESeq2 的差异表达分析流程
- 表达数据与直系同源结果关联
- 跨物种表达模式比较和可视化

**5. 工作流编排引擎**
- YAML 配置文件驱动
- 模块化步骤管理
- 完整日志记录和错误处理
- 中间结果缓存，支持断点续跑

### Out of Scope for MVP

- 共线性分析和可视化（由团队成员 Mihir 使用 AnchorWave/LAST/SVbyEye 独立完成）
- Kinnex 长读长测序数据支持（预计二月中旬数据到达后扩展）
- 猿类物种和 CHM13 人类参考基因组（进阶阶段目标）
- 图形用户界面（命令行优先）

### MVP Success Criteria

- [ ] 成功完成三物种的基因存在/缺失分析
- [ ] 直系同源推断结果与手动分析一致
- [ ] RNA-Seq 分析流程可复现
- [ ] 全流程可通过配置文件一键运行
- [ ] 新物种数据可在 5 分钟内配置完成

### Future Vision

**扩展阶段（Kinnex 数据到达后）：**
- 支持 4 个额外狐猴物种
- 整合 Kinnex 转录组数据
- 表达-直系同源综合分析

**进阶阶段：**
- 扩展至猿类物种
- 整合 CHM13 人类参考组装
- 完整灵长类比较基因组学框架

**长期愿景：**
- 可复用的比较基因组学分析平台
- 支持更广泛的物种和研究场景
- 团队内部标准化工具
